<?php

function landbook_vis_table_indicators_block_info() {
    $blocks['lbvt_country'] = array(
        'info' => t('Country page Indicators table'),
        'status' => TRUE,
        'region' => 'content',
        'visibility'      => BLOCK_VISIBILITY_LISTED,
        'pages'           => "book/countries/*",
        'weight'      => 10
    );
    return $blocks;
}

function landbook_vis_table_indicators_block_view($delta = '') {
    $module_path = drupal_get_path('module', 'landbook_vis_table_indicators');

    $block = array();
    switch ($delta) {
    case 'lbvt_country' :
        $block['subject'] = t('Indicators');
        $block['content'] = array(
            '#theme' => 'lbvt_country',
            '#attached' => array(
                'library' => array(
                    array('landbook', 'lbvis.table'),
                ),
                'js' =>  array(
                    $module_path . '/country.js' => array('weight' => 3, 'requires_jquery' => TRUE)
                )
            )
        );          break;
    }
    return $block;
}
