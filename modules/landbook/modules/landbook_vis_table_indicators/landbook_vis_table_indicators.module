<?php

function landbook_vis_table_indicators_block_info() {
    $blocks['country_values'] = array(
        'info'      => t('Indicators table: country values'),
        'status'    => TRUE,
        'region'    => 'content',
        'visibility'=> BLOCK_VISIBILITY_LISTED,
        'pages'     => "book/countries/*",
        'weight'    => 10
    );
    $blocks['details'] = array(
        'info'      => t('Indicators table: details'),
        'status'    => TRUE,
        'region'    => 'content',
        'visibility'=> BLOCK_VISIBILITY_LISTED,
        'pages'     => "book/thematic/*\nbook/indicator/*",
        'weight'    => 6
    );
    return $blocks;
}

function landbook_vis_table_indicators_block_view($delta = '') {
    $module_path = drupal_get_path('module', 'landbook_vis_table_indicators');

    $block = array();
    switch ($delta) {
    case 'country_values' :
    case 'details' :
        $block['subject'] = t('Indicators');
        $block['content'] = array(
            '#attached' => array(
                'library' => array(
                    array('landbook_view_coda', 'lbvis.table'),
                ),
                'js' =>  array(
                    $module_path . '/table.js'// => array('weight' => 3)
                //, 'requires_jquery' => TRUE)
                )
            )
        );
        break;
    }
    return $block;
}
